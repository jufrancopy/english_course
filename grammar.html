<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grammar Playground - Interactive Learning</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); 
            min-height: 100vh; 
            color: #333; 
        }
        .container { 
            width: 100%; 
            background: rgba(255, 255, 255, 0.95); 
            min-height: 100vh; 
            box-shadow: 0 0 40px rgba(0,0,0,0.1); 
        }
        .header { 
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); 
            color: white; 
            padding: 30px; 
            text-align: center; 
        }
        .header h1 { font-size: 2.5em; margin-bottom: 10px; text-shadow: 2px 2px 4px rgba(0,0,0,0.3); }
        .header p { font-size: 1.2em; opacity: 0.9; }
        .sidebar { 
            position: fixed; 
            left: 0; 
            top: 120px; 
            width: 300px; 
            height: calc(100vh - 120px); 
            background: #f8f9fa; 
            border-right: 2px solid #e9ecef; 
            overflow-y: auto; 
            padding: 20px; 
            z-index: 100; 
        }
        .main-content { 
            margin-left: 320px; 
            padding: 40px; 
            min-height: calc(100vh - 160px); 
        }
        .topic-item { 
            padding: 15px; 
            margin: 10px 0; 
            background: white; 
            border-radius: 10px; 
            cursor: pointer; 
            transition: all 0.3s ease; 
            border-left: 4px solid #4facfe; 
        }
        .topic-item:hover { background: #e3f2fd; transform: translateX(5px); }
        .topic-item.active { background: #4facfe; color: white; }
        .topic-title { font-weight: 600; margin-bottom: 5px; }
        .topic-desc { font-size: 0.9em; color: #666; }
        .topic-item.active .topic-desc { color: rgba(255,255,255,0.8); }
        .lesson-content { display: none; }
        .lesson-content.active { display: block; }
        .lesson-header { 
            background: linear-gradient(135deg, #a8e6cf 0%, #dcedc1 100%); 
            padding: 30px; 
            border-radius: 15px; 
            margin-bottom: 30px; 
        }
        .lesson-title { font-size: 2.2em; color: #2c3e50; margin-bottom: 10px; }
        .lesson-subtitle { font-size: 1.2em; color: #7f8c8d; }
        .explanation-box { 
            background: white; 
            padding: 30px; 
            border-radius: 15px; 
            margin: 20px 0; 
            box-shadow: 0 5px 15px rgba(0,0,0,0.1); 
            border-left: 5px solid #4facfe; 
        }
        .example-box { 
            background: #e8f5e8; 
            padding: 20px; 
            border-radius: 10px; 
            margin: 15px 0; 
            border-left: 4px solid #28a745; 
        }
        .practice-area { 
            background: #fff3cd; 
            padding: 25px; 
            border-radius: 15px; 
            margin: 20px 0; 
            border-left: 5px solid #ffc107; 
        }
        .practice-question { 
            background: white; 
            padding: 20px; 
            border-radius: 10px; 
            margin: 15px 0; 
            border: 2px solid #e9ecef; 
        }
        .practice-input { 
            width: 100%; 
            padding: 12px; 
            border: 2px solid #e9ecef; 
            border-radius: 8px; 
            font-size: 1.1em; 
            margin: 10px 0; 
        }
        .practice-input:focus { border-color: #4facfe; outline: none; }
        .check-btn { 
            background: #28a745; 
            color: white; 
            border: none; 
            padding: 12px 25px; 
            border-radius: 8px; 
            cursor: pointer; 
            font-size: 1em; 
            margin: 10px 5px; 
        }
        .check-btn:hover { background: #218838; }
        .feedback { 
            padding: 15px; 
            margin: 10px 0; 
            border-radius: 8px; 
            font-weight: 600; 
        }
        .feedback.correct { background: #d4edda; color: #155724; border: 2px solid #c3e6cb; }
        .feedback.incorrect { background: #f8d7da; color: #721c24; border: 2px solid #f5c6cb; }
        .grammar-table { 
            width: 100%; 
            border-collapse: collapse; 
            margin: 20px 0; 
            background: white; 
            border-radius: 10px; 
            overflow: hidden; 
            box-shadow: 0 5px 15px rgba(0,0,0,0.1); 
        }
        .grammar-table th { 
            background: #4facfe; 
            color: white; 
            padding: 15px; 
            text-align: left; 
        }
        .grammar-table td { 
            padding: 15px; 
            border-bottom: 1px solid #e9ecef; 
        }
        .grammar-table tr:hover { background: #f8f9fa; }
        .visual-diagram { 
            background: white; 
            padding: 30px; 
            border-radius: 15px; 
            text-align: center; 
            margin: 20px 0; 
            box-shadow: 0 5px 15px rgba(0,0,0,0.1); 
        }
        .sentence-part { 
            display: inline-block; 
            padding: 10px 20px; 
            margin: 5px; 
            border-radius: 20px; 
            color: white; 
            font-weight: 600; 
        }
        .subject { background: #ff6b6b; }
        .verb { background: #4ecdc4; }
        .object { background: #45b7d1; }
        .complement { background: #f7b731; }
        .progress-indicator { 
            position: fixed; 
            bottom: 20px; 
            right: 20px; 
            background: #4facfe; 
            color: white; 
            padding: 15px 25px; 
            border-radius: 30px; 
            font-weight: 600; 
            box-shadow: 0 5px 15px rgba(0,0,0,0.2); 
            z-index: 200; 
        }
        .mobile-toggle { display: none; }

        .back-btn-flotante {
            position: fixed;
            bottom: 30px;
            left: 30px;
            background: linear-gradient(135deg, #ff6a88 0%, #ff99ac 100%);
            color: white;
            padding: 15px 25px;
            border-radius: 50px;
            font-size: 1.2em;
            font-weight: 600;
            text-decoration: none;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
            z-index: 1000;
        }

        .back-btn-flotante:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 25px rgba(0, 0, 0, 0.3);
        }
        
        @media (max-width: 768px) {
            .header {
                padding: 20px;
            }
            .header h1 {
                font-size: 1.8em;
            }
            .header p {
                font-size: 1em;
            }
            .main-content {
                margin-left: 0;
                padding: 80px 15px 20px 15px; /* Add padding top for mobile toggle */
            }
            .lesson-header {
                padding: 20px;
            }
            .lesson-title {
                font-size: 1.6em;
            }
            .lesson-subtitle {
                font-size: 1em;
            }
            .explanation-box, .practice-area, .visual-diagram, .example-box {
                padding: 15px;
            }
            .sidebar { 
                transform: translateX(-100%); 
                transition: transform 0.3s ease;
                width: 85%; /* Ocupar m√°s pantalla */
                max-width: 320px;
                top: 0;
                height: 100%;
                padding-top: 60px; /* Space for toggle button */
                z-index: 1000;
            }
            .sidebar.open { transform: translateX(0); }
            .mobile-toggle { LAG
                display: block; 
                position: fixed; 
                top: 15px; 
                left: 15px; 
                background: #4facfe; 
                color: white; 
                border: none; 
                padding: 10px 15px; 
                border-radius: 8px; 
                cursor: pointer; 
                z-index: 1100; /* Above sidebar */
            }
            .back-btn-flotante {
                font-size: 1em;
                padding: 12px 20px;
                bottom: 15px;
                left: 15px;
                border-radius: 30px;
            }
        }
    </style>
</head>
<body>
    <a href="index.html" class="back-btn-flotante">‚Üê Volver a los Quizzes</a>
    <div class="container">
        <div class="header">
            <h1>üìö Grammar Playground</h1>
            <p>Learn English grammar interactively with visual explanations and practice!</p>
        </div>

        <button class="mobile-toggle" onclick="toggleSidebar()">‚ò∞ Topics</button>

        <div class="sidebar" id="sidebar">
            <div class="topic-item active" onclick="showLesson('comparaciones-as-as')">
                <div class="topic-title">Comparaciones con "As... As"</div>
                <div class="topic-desc">Igualdad con adjetivos y adverbios</div>
            </div>
            <div class="topic-item" onclick="showLesson('adverbios-tiempo')">
                <div class="topic-title">Adverbios de Tiempo: "Just" y "Soon"</div>
                <div class="topic-desc">Acciones recientes y futuras</div>
            </div>
            <div class="topic-item" onclick="showLesson('futuro-progresivo')">
                <div class="topic-title">Tiempo Verbal: Futuro Progresivo</div>
                <div class="topic-desc">Acciones en progreso en el futuro</div>
            </div>
            <div class="topic-item" onclick="showLesson('sustantivos-plurales')">
                <div class="topic-title">Sustantivos Contables Plurales</div>
                <div class="topic-desc">Formaci√≥n de plurales</div>
            </div>
            <div class="topic-item" onclick="showLesson('pronunciacion-plural')">
                <div class="topic-title">Pronunciaci√≥n del Plural Regular (-s / -es)</div>
                <div class="topic-desc">Sonidos /Iz/, /s/, /z/</div>
            </div>
            <div class="topic-item" onclick="showLesson('clausulas-adjetivas')">
                <div class="topic-title">Cl√°usulas Adjetivas con "Where" y "When"</div>
                <div class="topic-desc">Modificando sustantivos de lugar y tiempo</div>
            </div>
            <div class="topic-item" onclick="showLesson('adverbios-grado')">
                <div class="topic-title">Adverbios de Grado</div>
                <div class="topic-desc">Intensificando adjetivos y adverbios</div>
            </div>
            <div class="topic-item" onclick="showLesson('condicionales-if')">
                <div class="topic-title">Oraciones Condicionales con "If"</div>
                <div class="topic-desc">Condiciones y resultados</div>
            </div>
            <div class="topic-item" onclick="showLesson('modales-obligacion')">
                <div class="topic-title">Modales de Obligaci√≥n, Necesidad y Prohibici√≥n</div>
                <div class="topic-desc">Must, have to, must not</div>
            </div>
            <div class="topic-item" onclick="showLesson('modales-probabilidad')">
                <div class="topic-title">Modales de Probabilidad, Deducci√≥n y Conclusi√≥n</div>
                <div class="topic-desc">Must, may, might, could</div>
            </div>
            <div class="topic-item" onclick="showLesson('expresion-futuro')">
                <div class="topic-title">Expresi√≥n del Tiempo Futuro</div>
                <div class="topic-desc">Will, be going to, peticiones corteses</div>
            </div>
            <div class="topic-item" onclick="showLesson('gerundios')">
                <div class="topic-title">Gerundios</div>
                <div class="topic-desc">Usos como sustantivo y combinaciones</div>
            </div>
            <div class="topic-item" onclick="showLesson('adverbios-irregulares')">
                <div class="topic-title">Adverbios Irregulares</div>
                <div class="topic-desc">Comparativos y superlativos irregulares</div>
            </div>
            <div class="topic-item" onclick="showLesson('estilo-indirecto')">
                <div class="topic-title">Estilo Indirecto (Reported Speech) y Modales</div>
                <div class="topic-desc">Cambios de modales en Reported Speech</div>
            </div>
            <div class="topic-item" onclick="showLesson('modales-aconsejar')">
                <div class="topic-title">Modales para Aconsejar: Should y Ought to</div>
                <div class="topic-desc">Consejos y recomendaciones</div>
            </div>
        </div>

        <div class="main-content">
            <!-- 1. Comparaciones con "As... As" -->
            <div id="comparaciones-as-as" class="lesson-content active">
                <div class="lesson-header">
                    <div class="lesson-title">1. Comparaciones con "As... As"</div>
                    <div class="lesson-subtitle">Igualdad con adjetivos y adverbios</div>
                </div>
                <div class="explanation-box">
                    <h3>Regla y Uso</h3>
                    <p>Se utiliza la construcci√≥n "as... as" para hacer comparaciones de igualdad con adjetivos y adverbios. Indica que dos personas o cosas son iguales en un aspecto determinado.</p>
                    <h3>Estructura</h3>
                    <pre><code>Sujeto_1 + &text{Verbo} + <strong>as</strong> + &text{Adjetivo/Adverbio} + <strong>as</strong> + &text{Sujeto}_2</code></pre>
                </div>
                <div class="example-box">
                    <h4>Ejemplos Traducidos:</h4>
                    <p>Jack is as old as Bill. (Jack tiene la misma edad que Bill.)</p>
                    <p>Significa: They are the same age. (Tienen la misma edad.)</p>
                    <p>John isn't as rich as his brother Fred. (John no es tan rico como su hermano Fred.)</p>
                    <p>Significa: Fred is richer. (Fred es m√°s rico.)</p>
                    <p>Betty worked as fast as Linda worked. (Betty trabaj√≥ tan r√°pido como trabaj√≥ Linda.)</p>
                    <p>Significa: Betty and Linda worked at the same speed. (Betty y Linda trabajaron a la misma velocidad.)</p>
                    <p>Bob studies harder than Mary. (Bob estudia m√°s duro que Mary.)</p>
                    <p>Mary doesn't study as hard as Bob does. (Mary no estudia tan duro como Bob.)</p>
                </div>
            </div>

            <!-- 2. Adverbios de Tiempo: "Just" y "Soon" -->
            <div id="adverbios-tiempo" class="lesson-content">
                <div class="lesson-header">
                    <div class="lesson-title">2. Adverbios de Tiempo: "Just" y "Soon"</div>
                    <div class="lesson-subtitle">Acciones recientes y futuras</div>
                </div>
                <div class="explanation-box">
                    <h3>A. Just</h3>
                    <p><strong>Uso:</strong> Se utiliza para indicar una acci√≥n que acaba de completarse en el pasado reciente.</p>
                    <p><strong>Ejemplo:</strong> John just arrived from New York. (John acaba de llegar de Nueva York.)</p>
                    <h3>B. Soon</h3>
                    <p><strong>Uso:</strong> Se utiliza para indicar la finalizaci√≥n esperada de una acci√≥n en el futuro cercano.</p>
                    <p><strong>Ejemplo:</strong> His brother will arrive from Los Angeles soon. (Su hermano llegar√° de Los √Ångeles pronto.)</p>
                </div>
            </div>

            <!-- 3. Tiempo Verbal: Futuro Progresivo (Future Progressive) -->
            <div id="futuro-progresivo" class="lesson-content">
                <div class="lesson-header">
                    <div class="lesson-title">3. Tiempo Verbal: Futuro Progresivo (Future Progressive)</div>
                    <div class="lesson-subtitle">Acciones en progreso en el futuro</div>
                </div>
                <div class="explanation-box">
                    <h3>Regla y Uso</h3>
                    <p>El Futuro Progresivo (o Futuro Continuo) se usa para expresar una acci√≥n que estar√° en progreso en o hasta un momento particular en el futuro.</p>
                    <h3>Estructura</h3>
                    <pre><code><strong>will</strong> + <strong>be</strong> + Verbo-ing</code></pre>
                </div>
                <div class="example-box">
                    <h4>Ejemplos Traducidos:</h4>
                    <p>We'll be leaving at noon on Friday. (Estaremos saliendo al mediod√≠a el viernes.)</p>
                    <p>Tom won't be leaving until midnight tonight. (Tom no estar√° saliendo hasta la medianoche de esta noche.)</p>
                </div>
            </div>

            <!-- 4. Sustantivos Contables Plurales (Plural Count Nouns) -->
            <div id="sustantivos-plurales" class="lesson-content">
                <div class="lesson-header">
                    <div class="lesson-title">4. Sustantivos Contables Plurales (Plural Count Nouns)</div>
                    <div class="lesson-subtitle">Formaci√≥n de plurales</div>
                </div>
                <div class="explanation-box">
                    <h3>Definici√≥n</h3>
                    <p>Los Sustantivos Contables (Count Nouns) son aquellos que pueden ser precedidos por un art√≠culo singular (a o an) y tienen una forma plural.</p>
                    <p><strong>Ejemplos en singular:</strong> a man, an apple, a fish.</p>
                    <h3>Formaci√≥n del Plural</h3>
                    <table class="grammar-table">
                        <thead>
                            <tr>
                                <th>Tipo de Plural</th>
                                <th>Regla</th>
                                <th>Ejemplos (Singular ‚Üí Plural)</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr><td>Regular con -es</td><td>Se a√±ade -es a palabras que terminan en s, z, ge, sh, x, ch.</td><td>box ‚Üí boxes, sandwich ‚Üí sandwiches, dress ‚Üí dresses, wish ‚Üí wishes</td></tr>
                            <tr><td>Regular con -es + cambio a i</td><td>Palabras que terminan en consonante + y cambian la y por i y se a√±ade -es.</td><td>family ‚Üí families, duty ‚Üí duties, city ‚Üí cities, library ‚Üí libraries</td></tr>
                            <tr><td>Regular con -s</td><td>Se a√±ade -s a la mayor√≠a de las dem√°s palabras.</td><td>book ‚Üí books, chair ‚Üí chairs, table ‚Üí tables, boy ‚Üí boys</td></tr>
                            <tr><td>Irregular</td><td>Tienen formas completamente diferentes y no siguen reglas.</td><td>fish ‚Üí fish, deer ‚Üí deer, child ‚Üí children, foot ‚Üí feet, tooth ‚Üí teeth, man ‚Üí men, woman ‚Üí women, knife ‚Üí knives</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- 5. Pronunciaci√≥n del Plural Regular (-s / -es) -->
            <div id="pronunciacion-plural" class="lesson-content">
                <div class="lesson-header">
                    <div class="lesson-title">5. Pronunciaci√≥n del Plural Regular (-s / -es)</div>
                    <div class="lesson-subtitle">Sonidos /Iz/, /s/, /z/</div>
                </div>
                <div class="explanation-box">
                    <p>La terminaci√≥n -s o -es que se a√±ade a los sustantivos contables para formar el plural tiene tres pronunciaciones diferentes, dependiendo del sonido que preceda:</p>
                    <table class="grammar-table">
                        <thead>
                            <tr>
                                <th>Pronunciaci√≥n</th>
                                <th>Sonido Previo</th>
                                <th>Ejemplos de Palabras</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr><td>/Iz/</td><td>Despu√©s de sonidos sibilantes (s, z, sh, ch, j, x).</td><td>boxes, sandwiches, dresses, inquiries, classes, services</td></tr>
                            <tr><td>/s/</td><td>Despu√©s de sonidos sordos (sin vibraci√≥n de cuerdas vocales).</td><td>books, suits, cups, boots, crops, recruits, ranks, basics</td></tr>
                            <tr><td>/z/</td><td>Despu√©s de sonidos sonoros (con vibraci√≥n de cuerdas vocales).</td><td>tables, sons, words, windows, boys, duties, times, caves, eggs</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- 1. Cl√°usulas Adjetivas con "Where" y "When" -->
            <div id="clausulas-adjetivas" class="lesson-content">
                <div class="lesson-header">
                    <div class="lesson-title">1. Cl√°usulas Adjetivas con "Where" y "When" üó∫Ô∏è/‚è≥</div>
                    <div class="lesson-subtitle">Modificando sustantivos de lugar y tiempo</div>
                </div>
                <div class="explanation-box">
                    <p>Las cl√°usulas adjetivas (o cl√°usulas relativas) modifican o dan m√°s informaci√≥n sobre un sustantivo. Se introducen con los relativos "where" (donde) y "when" (cuando).</p>
                    <h3>A. Uso de "Where" (Donde)</h3>
                    <p><strong>Uso:</strong> Se usa para modificar un sustantivo de lugar (noun of place). La cl√°usula siempre se coloca justo despu√©s del sustantivo que modifica.</p>
                    <p><strong>Ejemplo Original:</strong> We found a restaurant where the food was good.</p>
                    <p><strong>Traducci√≥n y Explicaci√≥n:</strong> Encontramos un restaurante donde la comida era buena. <em>Where</em> hace referencia a <em>restaurant</em> (un lugar).</p>
                    <h3>B. Uso de "When" (Cuando)</h3>
                    <p><strong>Uso:</strong> Se usa para modificar un sustantivo de tiempo (noun of time). La cl√°usula siempre se coloca justo despu√©s del sustantivo que modifica.</p>
                    <p><strong>Ejemplo Original:</strong> The summer when we went to San Francisco was hot.</p>
                    <p><strong>Traducci√≥n y Explicaci√≥n:</strong> El verano cuando fuimos a San Francisco fue caluroso. <em>When</em> hace referencia a <em>summer</em> (un tiempo).</p>
                </div>
            </div>

            <!-- 2. Adverbios de Grado (Adverbs of Degree) -->
            <div id="adverbios-grado" class="lesson-content">
                <div class="lesson-header">
                    <div class="lesson-title">2. Adverbios de Grado (Adverbs of Degree) üìà</div>
                    <div class="lesson-subtitle">Intensificando adjetivos y adverbios</div>
                </div>
                <div class="explanation-box">
                    <p>Utilizamos ciertos adverbios antes de adjetivos y otros adverbios para intensificar el significado y hacerlo m√°s fuerte, similar al significado de "very" (muy).</p>
                    <table class="grammar-table">
                        <thead>
                            <tr>
                                <th>Adverbio de Grado</th>
                                <th>Traducci√≥n</th>
                                <th>Estructura</th>
                                <th>Ejemplo Traducido</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr><td>extremely</td><td>extremadamente</td><td>Adverbio + Adjetivo</td><td>extremely cheap (extremadamente barato)</td></tr>
                            <tr><td>really</td><td>realmente</td><td>Adverbio + Adjetivo</td><td>really interesting (realmente interesante)</td></tr>
                            <tr><td>rather</td><td>bastante</td><td>Adverbio + Adjetivo</td><td>rather good (bastante bueno)</td></tr>
                            <tr><td>terribly</td><td>terriblemente</td><td>Adverbio + Adjetivo</td><td>terribly noisy (terriblemente ruidoso)</td></tr>
                            <tr><td>quite</td><td>bastante</td><td>Adverbio + Adverbio</td><td>quite fast (bastante r√°pido)</td></tr>
                            <tr><td>so</td><td>tan</td><td>Adverbio + Adverbio</td><td>so well (tan bien)</td></tr>
                            <tr><td>very</td><td>muy</td><td>Adverbio + Adverbio</td><td>very quickly (muy r√°pidamente)</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- 3. Oraciones Condicionales con "If" (If-Conditional) -->
            <div id="condicionales-if" class="lesson-content">
                <div class="lesson-header">
                    <div class="lesson-title">3. Oraciones Condicionales con "If" (If-Conditional) üéØ</div>
                    <div class="lesson-subtitle">Condiciones y resultados</div>
                </div>
                <div class="explanation-box">
                    <p>Ciertas oraciones condicionales que expresan algo que es cierto o verdadero permiten la combinaci√≥n de varios tiempos verbales para expresar la condici√≥n (cl√°usula if) y el resultado (cl√°usula principal).</p>
                    <h3>A. Condicional con Presente Progresivo (Present Progressive)</h3>
                    <table class="grammar-table">
                        <thead>
                            <tr>
                                <th>Cl√°usula IF (Condici√≥n)</th>
                                <th>Cl√°usula Principal (Resultado)</th>
                                <th>Traducci√≥n</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr><td>If you're looking for Bill,</td><td>... you'll find him in the library.</td><td>(Si est√°s buscando a Bill,) (lo encontrar√°s en la biblioteca.) [Future]</td></tr>
                            <tr><td></td><td>... you can find him in the library.</td><td>(lo puedes encontrar en la biblioteca.) [Modal]</td></tr>
                            <tr><td></td><td>... go to the library.</td><td>(ve a la biblioteca.) [Imperative]</td></tr>
                        </tbody>
                    </table>
                    <p><strong>Estructura:</strong> El Presente Progresivo se usa en la cl√°usula if para describir una condici√≥n que est√° ocurriendo ahora. El resultado puede estar en Futuro, Modal o Imperativo.</p>
                </div>
            </div>

            <!-- 1. Modales de Obligaci√≥n, Necesidad y Prohibici√≥n (Review of Modals) -->
            <div id="modales-obligacion" class="lesson-content">
                <div class="lesson-header">
                    <div class="lesson-title">1. Modales de Obligaci√≥n, Necesidad y Prohibici√≥n (Review of Modals)</div>
                    <div class="lesson-subtitle">Must, have to, must not</div>
                </div>
                <div class="explanation-box">
                    <h3>A. Necesidad y Obligaci√≥n (Must y Have/Has to)</h3>
                    <p>Tanto <em>must</em> como <em>have/has to</em> se usan para expresar necesidad y obligaci√≥n.</p>
                    <p><strong>Ejemplo con must:</strong> You must have money to buy a car. (Debes tener dinero para comprar un coche.)</p>
                    <p><strong>Ejemplo con have to:</strong> I can't go. I have to study for a test. (No puedo ir. Tengo que estudiar para una prueba.)</p>
                    <h3>B. Prohibici√≥n (Must not)</h3>
                    <p><em>Must not</em> (o <em>mustn't</em>) se usa para expresar prohibici√≥n.</p>
                    <p><strong>Ejemplo:</strong> You must not smoke in the building. (No debes/est√° prohibido fumar en el edificio.)</p>
                    <h3>C. Falta de Necesidad (Don't/Doesn't have to)</h3>
                    <p><em>Not have/has to</em> se usa para expresar una falta de necesidad (algo que no es obligatorio).</p>
                    <p><strong>Ejemplo:</strong> Tomorrow is Saturday. We don't have to go to class. (Ma√±ana es s√°bado. No tenemos que ir a clase.)</p>
                </div>
            </div>

            <!-- 2. Modales de Probabilidad, Deducci√≥n y Conclusi√≥n -->
            <div id="modales-probabilidad" class="lesson-content">
                <div class="lesson-header">
                    <div class="lesson-title">2. Modales de Probabilidad, Deducci√≥n y Conclusi√≥n</div>
                    <div class="lesson-subtitle">Must, may, might, could</div>
                </div>
                <div class="explanation-box">
                    <h3>A. Modales para hacer Deducciones y Conclusiones</h3>
                    <p>Usamos los modales <em>must</em>, <em>may</em>, <em>might</em> y <em>could</em> para hacer deducciones y conclusiones a partir de la informaci√≥n que recibimos.</p>
                    <table class="grammar-table">
                        <thead>
                            <tr>
                                <th>Modal</th>
                                <th>Grado de Seguridad</th>
                                <th>Uso</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr><td>Must</td><td>Muy seguro (Very Sure)</td><td>Se usa cuando estamos muy seguros o ciertos de algo.</td></tr>
                            <tr><td>May, Might, Could</td><td>Menos seguro (Less Sure)</td><td>Se usan cuando estamos menos seguros o ciertos de algo.</td></tr>
                        </tbody>
                    </table>
                    <h3>B. Must como Probabilidad</h3>
                    <p><strong>Uso:</strong> <em>Must</em> se usa con el presente simple o el presente progresivo para expresar una alta probabilidad o una deducci√≥n l√≥gica.</p>
                    <p><strong>Ejemplo (Presente Simple):</strong> Steve is smiling. He must be happy. (Steve est√° sonriendo. Debe estar feliz.)</p>
                    <p><strong>Ejemplo (Presente Progresivo):</strong> I smell smoke. Something must be burning. (Huelo a humo. Algo debe estar ardiendo.)</p>
                    <p><strong>El Negativo de la Probabilidad:</strong> Para la negaci√≥n en probabilidad, no se usa <em>must not</em>. En su lugar, se usa <em>can't</em> (no puede ser) o <em>must not</em> solo para prohibici√≥n.</p>
                    <p><strong>Ejemplo:</strong> Betty isn't eating. She must not be hungry. (Betty no est√° comiendo. No debe tener hambre.)</p>
                    <p><strong>Otro ejemplo (con can't):</strong> John's lights are off. He can't be at home. (Las luces de John est√°n apagadas. No puede ser que est√© en casa.)</p>
                </div>
            </div>

            <!-- 3. Expresi√≥n del Tiempo Futuro -->
            <div id="expresion-futuro" class="lesson-content">
                <div class="lesson-header">
                    <div class="lesson-title">3. Expresi√≥n del Tiempo Futuro</div>
                    <div class="lesson-subtitle">Will, be going to, peticiones corteses</div>
                </div>
                <div class="explanation-box">
                    <h3>A. Will y Be Going To</h3>
                    <p><em>Will</em> y <em>be going to</em> se usan indistintamente para expresar tiempo futuro (aunque a menudo tienen matices de uso: <em>will</em> para decisiones espont√°neas/predicciones; <em>be going to</em> para planes/intenciones).</p>
                    <p><strong>Ejemplo con will:</strong> Frank will finish packing tonight. (Frank terminar√° de empacar esta noche.)</p>
                    <p><strong>Ejemplo con be going to:</strong> He is going to finish packing tonight. (√âl va a terminar de empacar esta noche.)</p>
                    <h3>B. Modales para Peticiones (Could y Would)</h3>
                    <p><em>Could</em> y <em>would</em> se usan para hacer peticiones de manera cort√©s.</p>
                    <p><strong>Ejemplo con Would:</strong> Would you close the window, please? (¬øPodr√≠as cerrar la ventana, por favor?)</p>
                    <p><strong>Ejemplo con Could:</strong> Could you please hand me the sugar? (¬øPodr√≠as por favor pasarme el az√∫car?)</p>
                </div>
            </div>

            <!-- 4. Gerundios (Gerunds) -->
            <div id="gerundios" class="lesson-content">
                <div class="lesson-header">
                    <div class="lesson-title">4. Gerundios (Gerunds)</div>
                    <div class="lesson-subtitle">Usos como sustantivo y combinaciones</div>
                </div>
                <div class="explanation-box">
                    <h3>A. El Gerundio como Sustantivo</h3>
                    <p>Un gerundio es la forma <em>-ing</em> de un verbo (ejemplos: <em>eating, playing, sleeping</em>).</p>
                    <p>El gerundio se utiliza con la funci√≥n m√°s com√∫n de un sustantivo.</p>
                    <h3>B. Usos del Gerundio</h3>
                    <p>El gerundio o una frase de gerundio (gerundio m√°s las palabras que lo acompa√±an) puede usarse como:</p>
                    <ul>
                        <li><strong>Sujeto de una Oraci√≥n:</strong></li>
                        <ul>
                            <li><strong>Ejemplo:</strong> Driving on wet roads can be dangerous. (Conducir en carreteras mojadas puede ser peligroso.)</li>
                            <li><strong>Ejemplo:</strong> Learning a second language is fun. (Aprender un segundo idioma es divertido.)</li>
                        </ul>
                        <li><strong>Objeto de un Verbo:</strong></li>
                        <ul>
                            <li><strong>Ejemplo:</strong> He enjoys teaching English. (√âl disfruta ense√±ar ingl√©s.)</li>
                            <li><strong>Ejemplo:</strong> We finished working about an hour ago. (Terminamos de trabajar hace aproximadamente una hora.)</li>
                        </ul>
                        <li><strong>Objeto de una Preposici√≥n:</strong></li>
                        <ul>
                            <li><strong>Ejemplo:</strong> You can turn off the radio by pushing this button. (Puedes apagar la radio presionando este bot√≥n.)</li>
                            <li><strong>Ejemplo:</strong> He apologized for being late. (Se disculp√≥ por llegar tarde.)</li>
                        </ul>
                    </ul>
                    <h3>C. Combinaciones Comunes con Gerundios</h3>
                    <p>El gerundio se usa despu√©s de ciertas combinaciones de verbos y adjetivos seguidos de una preposici√≥n:</p>
                    <table class="grammar-table">
                        <thead>
                            <tr>
                                <th>Verbo + Preposici√≥n</th>
                                <th>Traducci√≥n</th>
                                <th>Adjetivo + Preposici√≥n</th>
                                <th>Traducci√≥n</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr><td>apologize for</td><td>disculparse por</td><td>afraid of</td><td>tener miedo de</td></tr>
                            <tr><td>believe in</td><td>creer en</td><td>bored with</td><td>estar aburrido de</td></tr>
                            <tr><td>decide on</td><td>decidir sobre</td><td>excited about</td><td>estar emocionado por</td></tr>
                            <tr><td>finish with</td><td>terminar con</td><td>fond of</td><td>ser aficionado a</td></tr>
                            <tr><td>look forward to</td><td>esperar con ansias</td><td>frightened of</td><td>estar asustado de</td></tr>
                            <tr><td>plan on</td><td>planear</td><td>happy about</td><td>estar feliz por</td></tr>
                            <tr><td>thank someone for</td><td>agradecer a alguien por</td><td>interested in</td><td>estar interesado en</td></tr>
                            <tr><td></td><td></td><td>nervous about</td><td>estar nervioso por</td></tr>
                            <tr><td></td><td></td><td>proud of</td><td>estar orgulloso de</td></tr>
                            <tr><td></td><td></td><td>scared of</td><td>estar asustado de</td></tr>
                            <tr><td>talk about</td><td>hablar de</td><td></td><td></td></tr>
                            <tr><td>think of</td><td>pensar en</td><td></td><td></td></tr>
                            <tr><td></td><td></td><td>tired of</td><td>estar cansado de</td></tr>
                            <tr><td></td><td></td><td>worried about</td><td>estar preocupado por</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- 1. Adverbios Irregulares (Irregular Adverbs) -->
            <div id="adverbios-irregulares" class="lesson-content">
                <div class="lesson-header">
                    <div class="lesson-title">1. Adverbios Irregulares (Irregular Adverbs) ‚úèÔ∏è</div>
                    <div class="lesson-subtitle">Comparativos y superlativos irregulares</div>
                </div>
                <div class="explanation-box">
                    <h3>Regla</h3>
                    <p>Algunos adverbios no siguen las reglas est√°ndar de a√±adir <em>-er</em> o <em>-est</em> para formar sus comparativos y superlativos; tienen formas irregulares.</p>
                    <h3>Formas Irregulares Clave</h3>
                    <table class="grammar-table">
                        <thead>
                            <tr>
                                <th>Adverbio (Adverb)</th>
                                <th>Comparativo (Comparative)</th>
                                <th>Superlativo (Superlative)</th>
                                <th>Traducci√≥n</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr><td>well (bien)</td><td>better than (mejor que)</td><td>the best (el mejor/mejor)</td><td>Bien / Mejor que / El mejor</td></tr>
                            <tr><td>badly (mal)</td><td>worse than (peor que)</td><td>the worst (el peor/peor)</td><td>Mal / Peor que / El peor</td></tr>
                        </tbody>
                    </table>
                    <h3>Uso</h3>
                    <p>La forma comparativa se usa al referirse a dos personas o cosas.</p>
                    <p>La forma superlativa se usa al referirse a tres o m√°s personas o cosas.</p>
                </div>
            </div>

            <!-- 2. Estilo Indirecto (Reported Speech) y Modales -->
            <div id="estilo-indirecto" class="lesson-content">
                <div class="lesson-header">
                    <div class="lesson-title">2. Estilo Indirecto (Reported Speech) y Modales üó£Ô∏è</div>
                    <div class="lesson-subtitle">Cambios de modales en Reported Speech</div>
                </div>
                <div class="explanation-box">
                    <h3>Regla</h3>
                    <p>Cuando se usa un verbo modal en el estilo directo (presente), este se cambia frecuentemente a su forma pasada en el estilo indirecto (Reported Speech).</p>
                    <table class="grammar-table">
                        <thead>
                            <tr>
                                <th>Estilo Directo (Presente)</th>
                                <th>Estilo Indirecto (Pasado)</th>
                                <th>Traducci√≥n y Uso</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr><td>will</td><td>would</td><td>Futuro ‚Üí Condicional.</td></tr>
                            <tr><td>present-BE going to</td><td>past-BE going to</td><td>Futuro (intenci√≥n) ‚Üí Pasado de la intenci√≥n.</td></tr>
                            <tr><td>must (necesidad)</td><td>had to*</td><td>Obligaci√≥n (presente) ‚Üí Obligaci√≥n (pasado).</td></tr>
                            <tr><td>have/has to</td><td>had to</td><td>Obligaci√≥n (presente) ‚Üí Obligaci√≥n (pasado).</td></tr>
                            <tr><td>not have to</td><td>didn't have to</td><td>Falta de necesidad (presente) ‚Üí Falta de necesidad (pasado).</td></tr>
                            <tr><td>must not (prohibici√≥n)</td><td>must not</td><td>La prohibici√≥n no cambia al pasar al estilo indirecto.</td></tr>
                        </tbody>
                    </table>
                    <p><em>* Importante: Se usa <em>had to</em> en lugar de <em>must</em> al reportar necesidad en tiempo pasado.</em></p>
                </div>
            </div>

            <!-- 3. Modales para Aconsejar: Should y Ought to -->
            <div id="modales-aconsejar" class="lesson-content">
                <div class="lesson-header">
                    <div class="lesson-title">3. Modales para Aconsejar: Should y Ought to ü©∫</div>
                    <div class="lesson-subtitle">Consejos y recomendaciones</div>
                </div>
                <div class="explanation-box">
                    <h3>Regla</h3>
                    <p><em>Should</em> y <em>ought to</em> se utilizan indistintamente para dar consejos o hacer recomendaciones (traducido como "deber√≠as").</p>
                    <h3>Ejemplos</h3>
                    <p>You don't look good. You should see a doctor. (No tienes buen aspecto. Deber√≠as ver a un m√©dico.)</p>
                    <p>You don't look good. You ought to see a doctor. (No tienes buen aspecto. Deber√≠as ver a un m√©dico.)</p>
                    <h3>Forma Negativa</h3>
                    <p>La contracci√≥n negativa de <em>should</em> es <em>shouldn't</em>.</p>
                    <p><em>Ought to</em> no se usa usualmente en la forma negativa (<em>oughtn't to</em>) o en preguntas.</p>
                </div>
            </div>
        </div>

        <div class="progress-indicator" id="progressIndicator">
            Topic 1 of 15
        </div>
    </div>

    <script>
        let currentTopicIndex = 0;
        const topics = [
            'comparaciones-as-as', 'adverbios-tiempo', 'futuro-progresivo', 'sustantivos-plurales',
            'pronunciacion-plural', 'clausulas-adjetivas', 'adverbios-grado', 'condicionales-if',
            'modales-obligacion', 'modales-probabilidad', 'expresion-futuro', 'gerundios',
            'adverbios-irregulares', 'estilo-indirecto', 'modales-aconsejar'
        ];

        function showLesson(topicId) {
            // Hide all lessons
            document.querySelectorAll('.lesson-content').forEach(lesson => {
                lesson.classList.remove('active');
            });
            
            // Remove active class from all topic items
            document.querySelectorAll('.topic-item').forEach(item => {
                item.classList.remove('active');
            });
            
            // Show selected lesson
            document.getElementById(topicId).classList.add('active');
            
            // Add active class to clicked topic item
            event.target.closest('.topic-item').classList.add('active');
            
            // Update progress indicator
            currentTopicIndex = topics.indexOf(topicId);
            document.getElementById('progressIndicator').textContent = 
                `Topic ${currentTopicIndex + 1} of ${topics.length}`;
            
            // Close sidebar on mobile
            if (window.innerWidth <= 768) {
                document.getElementById('sidebar').classList.remove('open');
            }
        }

        function checkAnswer(inputId, correctAnswer, feedback) {
            const userAnswer = document.getElementById(inputId).value.trim().toLowerCase();
            const feedbackElement = document.getElementById('feedback-' + inputId);
            
            // Multiple possible correct answers
            const possibleAnswers = correctAnswer.toLowerCase().split('|').map(ans => ans.trim());
            
            if (possibleAnswers.some(answer => userAnswer === answer || userAnswer.includes(answer))) {
                feedbackElement.className = 'feedback correct';
                feedbackElement.textContent = feedback;
                feedbackElement.style.display = 'block';
            } else {
                feedbackElement.className = 'feedback incorrect';
                feedbackElement.textContent = `‚ùå Try again! Correct answer: ${correctAnswer.split('|')[0]}`;
                feedbackElement.style.display = 'block';
            }
        }

        function toggleSidebar() {
            document.getElementById('sidebar').classList.toggle('open');
        }

        // Auto-close sidebar when clicking outside on mobile
        document.addEventListener('click', function(event) {
            if (window.innerWidth <= 768) {
                const sidebar = document.getElementById('sidebar');
                const toggleButton = document.querySelector('.mobile-toggle');
                
                if (!sidebar.contains(event.target) && !toggleButton.contains(event.target)) {
                    sidebar.classList.remove('open');
                }
            }
        });

        // Add keyboard navigation
        document.addEventListener('keydown', function(event) {
            if (event.key === 'ArrowLeft' && currentTopicIndex > 0) {
                showLesson(topics[currentTopicIndex - 1]);
            } else if (event.key === 'ArrowRight' && currentTopicIndex < topics.length - 1) {
                showLesson(topics[currentTopicIndex + 1]);
            }
        });
    </script>
</body>
</html>
